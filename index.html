<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    
    <title>億家水電修繕會員頁面</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-louisaGray min-h-screen">

<!-- Phone Binding Section -->
<div id="phone-binding-section" class="bg-white rounded-lg shadow-md p-6 mb-6">
    <div class="text-center mb-6">
        <img id="profileImage" class="w-24 h-24 rounded-full mx-auto mb-3" src="" alt="Profile">
        <div id="profileName" class="text-lg font-semibold text-gray-800"></div>
    </div>
    <div class="mb-6">
        <label for="phoneNumber" class="block text-gray-700 text-sm font-mono mb-2">請輸入手機號碼進行會員綁定</label>
        <input type="tel" id="phoneNumber" required
               class="w-full px-4 py-2 border border-gray-600 rounded-lg focus:outline-none focus:border-[#007BC2] focus:ring-2 focus:ring-[#007BC2] focus:ring-opacity-50">
        <div id="phoneError" class="text-red-500 text-sm mt-1 hidden">請輸入正確的格式</div>
    </div>
    <button onclick="submitUserData()"
            class="w-full bg-[#007BC2] text-white py-3 px-4 rounded-lg hover:bg-[#0066a3] transition-colors duration-300 font-medium">
        會員綁定
    </button>
</div>

<div id="user-profile-section" class="p-4 w-full hidden">
    <!-- 黑卡卡片 -->
    <div class="w-full h-[200px] rounded-2xl shadow-lg bg-gradient-to-r from-[#0072C6] to-[#005A9C] text-white p-6 flex flex-col justify-between">
        <div class="flex justify-between items-center">
            <div class="text-xl font-semibold">億家水電</div>
            <img src="https://img.icons8.com/ios-filled/50/ffffff/sim-card-chip.png" alt="Chip"
                 class="w-10 h-10 opacity-80">
        </div>
        
        <div id="holder" class="text-lg tracking-widest font-mono"></div>
        
        <div class="flex justify-between items-end text-sm">
            <div>
                <div class="uppercase text-xs opacity-70">Card Holder</div>
                <div id="name" class="font-medium"></div>
            </div>
            <div>
                <div class="uppercase text-xs opacity-70">等級</div>
                <div id="level" class="font-medium"></div>
            </div>
        </div>
    </div>
    
    <br>
    <div class="text-base font-mono">歷史派工單</div>
    
    <!-- 折疊式選單 Container -->
    <div id="dispatches" class="space-y-2">
        <!-- Orders will be dynamically inserted here -->
    </div>
</div>
<script src="liff.js"></script>
</body>
</html> 